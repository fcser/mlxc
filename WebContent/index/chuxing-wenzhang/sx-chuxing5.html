<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>新闻页</title>
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/style.css">

</head>

<body>
<header id="header" class="site-header">
    <nav class="navbar navbar-default navbar-fixed-top" >
        <div class="container ">
            <div class="navbar-header">
                <a href="#" class="navbar-brand logo"> <img src="images/L-LOGO-1.jpg" alt="忆美.红星"></a>
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="sr-only">切换导航</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="navbar-collapse">
               <div class="nav-r">
                <ul class="nav navbar-nav navbar-right">
                   <li><a href="#"><span class="glyphicon glyphicon-home"></span> 我的村庄</a></li>
                   <li><a href="#"><span class="glyphicon glyphicon-globe" ></span> 美丽的房屋</a></li>
				   <li><a href="#"><span class="glyphicon glyphicon-plane" ></span> 便捷的交通</a></li>
				   <li><a href="#"><span class="glyphicon glyphicon-fire" ></span> 多彩的活动</a></li>
				   <li><a href="#"><span class="glyphicon glyphicon-cutlery" ></span> 美味的食物</a></li>
				   <li><a href="#"><span class="glyphicon glyphicon-user" ></span> 个人中心</a></li>
				   <li><a href="#"><span class="glyphicon glyphicon-heart" ></span> 关于我们</a></li><br>
                </ul> 
               </div>
               <div class="nav-l">
                <ul class=" nav navbar-nav">
                   <li class=""><a href="#"><span class="glyphicon glyphicon-edit" ></span> 注册 </a></li>
                   <li class=""><a href="#"><span class="glyphicon glyphicon-off" ></span> 登录</a></li>
                </ul>
               </div>    
            </div>       
        </div>   
    </nav>
</header>
      
<div class="tm-body">
    <div class="container">
        <h2 class="tm-title">乡村巴士</h2>                                           
                 <p class="tm-text">我的童年是在农村度过的，所以小时候对公交车都没有什么印象。那个时候进城需要做公共汽车，就是后面带扶梯的那种中巴客车，可以让人爬上去放大包行李。可就是这样的中巴车，我也没做过几次。</p>
                    <p class="tm-text">小时候最开心的事就是妈妈带着去县城的姨妈家做客，因为可以坐上汽车。每次跳上车的时候，我都会抢着坐到车窗旁边，看着车窗外一排排的房屋，树木和庄稼从眼前飞快的向后退去，顿时有一种眼晕目眩不能自已的兴奋，呼呼的风再夹杂着细微的尘土飞扬打在我的脸上，像被蚂蚁咬了一样的疼，却还是乐此不疲，尽管被妈妈往回拽了好几次，可还是忍不住想把头伸到车窗外面，看那飞驰而过的风景。</p>
                    <p class="tm-text">这就是我对于汽车的童年记忆。
后来小学毕业之后我考上了县城里的重点中学，寄宿在了城里的姨妈家里。第一天去学校报到的时候，姨妈带着我第一次坐上了城里的公交车。</p>
                    <p class="tm-text">我清楚的记得，那是一班2路汽车。一直到现在，它还依然行驶在去往我母校的这条路上。那时候小城虽不大，可仅有的几条主干道上却也在不停地穿梭着公交车。我在路边还没有站稳，就被姨妈一把给拽上了一辆缓缓停靠在站台的2路车。我以为它会像在乡下坐的汽车一样停在路口老长的时间，卖票的阿姨再扯着喉咙喊上几嗓子，可是没有，一切都是那么的有序平静，司机叔叔看到站台上的人都上了车，就关上车门，然后缓缓地发动了汽车。</p>
                    <p class="tm-text">每隔几百米卖票的阿姨都会报一个站名，每一站公交车都会停下来，耐心的等待到站的乘客下车，迎接新的乘客上来。</p>
     </div> 
     <div class="container">
         <div class="write">
            <h2 class="w-title">评论区</h2>
             <div class="row">
                  <div class="col-md-12 col">
                      <label for="name">评 论 :</label>
                      <input type="text" class="form-input" name="name" id="name">
                      <a href="#"><button class="btn">提交</button></a>
                  </div>
             </div>
         
            <ul id="pn">
          <li class="list0"> 
          <a style="font-size:18px;" class="close" href="javascript:;"><span class="glyphicon glyphicon-remove" ></span></a> 
         <!-- <div class="head">
              <img src="images/T1.jpg" alt=""/>
          </div> -->
          <div class="content">
            <p class="text"><span class="name">Andy：</span>哈哈哈哈哈谁还没个妈～//@我的朋友是个呆B: 饮水机那个蕾丝罩我给跪了//@八卦_我实在是太CJ了:仿佛看到了自己家</p>            
            <!--<div class="pic"><img src="images/img1.jpg" alt=""/></div> -->
            <div class="good"><span class="date">02-14 23:01</span><a class="dzan" href="javascript:;">赞</a></div> 
            <div class="people" total="2980">2980人觉得很赞</div> 
            <div class="comment-list"> 
                <div class="comment" user="self">  
                    <!--<div class="comment-left"><img src="images/T1.jpg" alt=""/></div> --> 
                    <div class="comment-right">  
                        <div class="comment-text"><span class="user">老王：</span>我住隔壁我姓王</div> 
                            <div class="comment-date">02-14 22:00  <a class="comment-zan" href="javascript:;" total="23" my="1">23 取消赞</a>  <a class="comment-dele" href="javascript:;">回复</a>  
                            </div>  
                        </div> 
                    </div> 
                    <div class="comment" user="self">  
                        <!--<div class="comment-left"><img src="images/T1.jpg" alt=""/></div> -->
                        <div class="comment-right"> 
                            <div class="comment-text"><span class="user">我：</span>看哭了留卡号吧</div>  
                            <div class="comment-date">02-14 24:00  <a class="comment-zan" href="javascript:;" total="0" my="0">赞</a>  <a class="comment-dele" href="javascript:;">删除</a> 
                            </div>
                        </div>
                     </div> 
                </div> 
                <div class="hf">
                    <textarea type="text" class="hf-text" autocomplete="off" maxlength="100">评论…</textarea> 
                    <button class="hf-btn">回复</button> 
                    <span class="hf-nub">0/100</span> 
                </div> 
             </div> 
        </li> 
        <li class="list0"> 
           <a class="close" href="javascript:;">X</a> 
           <div class="head"><!--<img src="images/T2.jpg" alt=""/>--></div> 
           <div class="content"> 
               <p class="text"><span class="name">Andy：</span>哈哈哈哈哈谁还没个妈～//@我的朋友是个呆B: 饮水机那个蕾丝罩我给跪了//@八卦_我实在是太CJ了:仿佛看到了自己家</p>  
              <!-- <div class="pic"><img src="images/img1.jpg" alt=""/></div>--> 
               <div class="good"><span class="date">02-14 23:01</span><a class="dzan" href="javascript:;">赞</a></div> 
               <div class="people" total="0" style="display: none;"></div>
               <div class="comment-list"> 
                  <div class="comment" user="self"> 
                      <!--<div class="comment-left"><img src="images/T2.jpg" alt=""/></div>-->  
                      <div class="comment-right"> 
                          <div class="comment-text"><span class="user">我：</span>看哭了留卡号吧</div>  
                              <div class="comment-date">02-14 24:00  <a class="comment-zan" href="javascript:;" total="286" my="1">286 取消赞</a>  <a class="comment-dele" href="javascript:;">删除</a> 
                               </div>  
                           </div> 
                      </div> 
                  </div> 
                  <div class="hf"> 
                      <textarea type="text" class="hf-text" autocomplete="off" maxlength="100">评论…</textarea> 
                      <button class="hf-btn">回复</button>
                      <span class="hf-nub">0/100</span> 
                  </div> 
              </div> 
       </li> 
</ul> 
         
         
         
         </div>
     </div>         
</div>   
   
                 
</div>    
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script type="text/javascript"> 
function addloadEvent(func){ var oldonload=window.onload; if(typeof window.onload !="function"){  window.onload=func; } else{  window.onload=function(){  if(oldonload){   oldonload();   }  func();  } } } addloadEvent(b); 
function b(){ var pn=document.getElementById("pn"); var lists=pn.children; //删除当前节点
 function remove(node){ node.parentNode.removeChild(node); } //上面的点赞 
 function praisebox(box,el){ //获取赞数量容器 
 var praise=box.getElementsByClassName("people")[0]; //获取容器当前total值
 var total=parseInt(praise.getAttribute("total")); //获取点击的innerHTML
 var txt=el.innerHTML; //创建一个新的total存储用
 var newtotal; //判断点击的文字内容
 if(txt=="赞"){ //total值+1 因为我还没点击赞，所以要点击的时候就多了一个人total+1 
 newtotal=total+1; //判断赞数量 把相应文字放到赞容器里
 praise.innerHTML=newtotal==1 ? "我觉得很赞" : "我和" + total +"个人觉得很赞"; el.innerHTML="取消赞"; } else{ //反之total值-1 
 newtotal=total-1; praise.innerHTML=newtotal==0 ? "" : newtotal +"个人觉得很赞"; el.innerHTML="赞"; } //更新total值
 praise.setAttribute("total",newtotal); //如果没有人点赞容器隐藏
 praise.style.display=(newtotal==0) ? "none" : "block"; } //回复评论
 function reply(box){ //获取评论框
 var textarea=box.getElementsByTagName("textarea")[0]; //获取包含所有评论的容器
 var comment=box.getElementsByClassName("comment-list")[0]; //创建新的评论div
 var div=document.createElement("div"); //赋类名
 div.className="comment"; //设置属性
 div.setAttribute("user","self"); //获取每条评论的innerHTML结构，每次只替换textarea的输入内容和 当前发送时间
 var html= '<div class="comment-right">'+  '<div class="comment-text"><span>我：</span>'+textarea.value+'</div>'+  '<div class="comment-date">'+  getTime()+  '<a class="comment-zan" href="javascript:;" total="0" my="0">赞</a>'+  '<a class="comment-dele" href="javascript:;">删除</a>'+  '</div>'+  '</div>'; //插入到新建的评论div
 
 div.innerHTML=html; //把新评论插入到评论列表
 comment.appendChild(div); //评论后初始化textarea输入框
 textarea.value="评论…"; textarea.parentNode.className="hf"; } //获取当前时间回复评论时调用
 function getTime(){ var t=new Date(); var y=t.getFullYear(); var m=t.getMonth()+1; var d=t.getDate(); var h=t.getHours(); var mi=t.getMinutes(); m=m<10?"0"+m:m; d=d<10?"0"+d:d; h=h<10?"0"+h:h; mi=mi<10?"0"+mi:mi; return y+"-"+m+"-"+d+""+h+":"+mi; } //回复里点赞
 function praiseReply(el){ //获取当前total值 也就是所有点赞数量
 var total=parseInt(el.getAttribute("total")); //获取当前my值 我的点赞
 var my=parseInt(el.getAttribute("my")); //创建新的total 
 var newtotal; //判断my=0就是我准备要点赞
 if(my==0){ //我点了赞总数量就要+1
 newtotal=total+1; //更新total值
 el.setAttribute("total",newtotal); //更新my值
 el.setAttribute("my",1); //更新文字 就是我点了后 文字就是取消赞了
 el.innerHTML=newtotal+" 取消赞"; }else{ //反之-1
 newtotal=total-1; el.setAttribute("total",newtotal); el.setAttribute("my",0); el.innerHTML=(newtotal==0)?" 赞":newtotal+" 赞"; } } //操作回复
 function operateReply(el){ //每条评论
 var comment=el.parentNode.parentNode.parentNode; //整个状态
 var box=comment.parentNode.parentNode.parentNode; //评论框
 var textarea=box.getElementsByTagName("textarea")[0]; //名字
 var user=comment.getElementsByClassName("user")[0]; //点击的innerHTML
 var txt=el.innerHTML; //判断当前点击的是否为回复
 if(txt=="回复"){ //评论框触发焦点事件 也就是变高
 textarea.onfocus(); //内容变为回复+当前人的名字
 textarea.value="回复 "+user.innerHTML; //调用键盘事件
 textarea.onkeyup(); }else{ //否则就是删除节点
 remove(comment); } } //遍历所有状态消息
 for(var i=0;i<lists.length;i++){ //全部事件代理
 lists[i].onclick=function(e){ //获取当前点击事件
 var e=e||window.event; var el=e.srcElement; if(!el){ el=e.target;//兼容火狐
 } //判断点击的类名
 switch(el.className){ //关闭整个状态
   case "close": remove(el.parentNode); break; //上面的点赞
   case "dzan": praisebox(el.parentNode.parentNode.parentNode,el); break; //回复评论 
   case "hf-btn hf-btn-on": reply(el.parentNode.parentNode.parentNode); break; //每条评论中点赞 
   case "comment-zan": praiseReply(el); break; case "comment-dele": operateReply(el); 
	break; } } 
 var textarea=lists[i].getElementsByClassName("hf-text")[0]; //焦点事件
 textarea.onfocus=function(){ this.parentNode.className='hf hf-on'; this.value = this.value == '评论…' ? '' : this.value; } //失焦事件 
 textarea.onblur=function(){ if(this.value==''){ this.parentNode.className='hf'; this.value ='评论…';  }  } //键盘事件 
 textarea.onkeyup=function(){ var len=this.value.length; var textParentNode=this.parentNode; 
 var textBtn=textParentNode.children[1]; 
 var textNub=textParentNode.children[2]; 
 if(len==0){ 
 textBtn.className="hf-btn"; }
 else{ textBtn.className="hf-btn hf-btn-on";   } 
 textNub.innerHTML=len+"/100"; }
  } //遍历结束 
  } 
</script>
</body>
</html>
